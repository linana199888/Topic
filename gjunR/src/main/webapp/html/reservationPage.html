<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="icon" href="https://cdn.bella.tw/index_image/SIXlRaTmfMy5HlCHixB9BrxUUJEO0RsHCitEVCpV.jpeg">
    <title>Reservation Page</title>
    <meta charset="utf-8" />
    <!-- Bootstrap CSS -->
    <!-- <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.1.3/dist/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous"> -->
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css"
      integrity="sha384-Zenh87qX5JnK2Jl0vWa8Ck2rdkQ2Bzep5IDxbcnCeuOxjzrPF/et3URy9Bv1WTRi"
      crossorigin="anonymous"
    />
    <script
      src="https://code.jquery.com/jquery-3.6.1.js"
      integrity="sha256-3zlB5s2uwoUzrXK3BT7AX3FyvojsraNFxCc2vC/7pNI="
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/popper.js@1.14.3/dist/umd/popper.min.js"
      integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@4.1.3/dist/js/bootstrap.min.js"
      integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy"
      crossorigin="anonymous"
    ></script>
  </head>
  <body>
    <style>
      /* * {
        border: 1px solid black;
      } */
      html,
      body {
        margin: 0;
        padding: 0;
      }

      body {
        position: relative;
      }

      .form-group.row {
        margin-left: 500px;
        margin-top: 30px;
      }

      .container {
        max-width: 600px;
      }
    </style>
    <div class="container">
      <div class="pt-5 pb-3 d-flex text-center">
        <img
          width="50"
          height="50"
          src="https://scontent.ftpe8-3.fna.fbcdn.net/v/t1.6435-9/183446961_5786399431370995_238227825131624894_n.png?_nc_cat=107&ccb=1-7&_nc_sid=09cbfe&_nc_ohc=yKu9KmnA-JgAX-gc2EJ&_nc_ht=scontent.ftpe8-3.fna&oh=00_AfCjo3SgORJzmeSFumQFhCHC5LmOLK6F7heJsPzEjNG7Lg&oe=63A1AD0C"
          alt=""
        />
        <h1 class="ms-3">Gjun Restaurant 訂位系統</h1>
      </div>
      <form>
        <div class="input-group mb-3">
          <span class="input-group-text">訂位姓名</span>
          <input
            id="inputName"
            type="text"
            class="form-control"
            aria-label="Sizing example input"
            aria-describedby="inputGroup-sizing-default"
          />
        </div>
        <div class="input-group mb-3">
          <span class="input-group-text">電話</span>
          <input
            id="inputPhone"
            type="text"
            class="form-control"
            aria-label="Sizing example input"
            aria-describedby="inputGroup-sizing-default"
          />
        </div>
        <div class="input-group mb-3">
          <span class="input-group-text">信箱</span>
          <input
            id="inputEmail"
            type="text"
            class="form-control"
            aria-label="Sizing example input"
            aria-describedby="inputGroup-sizing-default"
          />
        </div>
        <div class="input-group mb-3">
          <span class="input-group-text">人數</span>
          <input
            id="inputPerson"
            type="text"
            class="form-control"
            aria-label="Sizing example input"
            aria-describedby="inputGroup-sizing-default"
          />
        </div>
        <div class="input-group mb-3">
          <span class="input-group-text">日期</span>
          <input
            id="inputDate"
            type="text"
            class="form-control"
            aria-label="Sizing example input"
            aria-describedby="inputGroup-sizing-default"
          />
        </div>
        <div class="input-group mb-3">
          <span class="input-group-text">時間</span>
          <input
            id="inputTime"
            type="text"
            class="form-control"
            aria-label="Sizing example input"
            aria-describedby="inputGroup-sizing-default"
          />
        </div>
        <div class="btnArea text-center">
          <input
            type="submit"
            name=""
            id="submitBtn"
            class="btn btn-danger"
            value="提交"
          />
          <input
            type="reset"
            name=""
            id="clearBtn"
            class="btn btn-danger"
            value="重設"
          />
        </div>
        <div id="div1"></div>
      </form>
    </div>
    <script>
      function rs(data) {
        alart(data);
      }
      function send(e) {
        e.preventDefault();
        const obj = new Object();
        obj.reservationName = $("#inputName").val();
        obj.reservationPhone = $("#inputPhone").val();
        obj.reservationEmail = $("#inputEmail").val();
        obj.reservationPerson = $("#inputPerson").val();
        obj.reservationDate = $("#inputDate").val();
        obj.reservationTime = $("#inputTime").val();
        data = JSON.stringify(obj);
        $.ajax({
          url: "../reservation/insert",
          type: "POST",
          data: data,
          contentType: "application/JSON",
          success: function(data) {
            alert(data);
        },
          error: function() {
            console.log("MDFK");
          }
        });
        //   $.post(
        //     "../Reservation/insert",
        //     data,
        //     rs
        //   );
        //   return false;
      }
      function start() {
          $("#submitBtn").click(function() {
              // 各個欄位作檢測
              var name = $('#inputName').val() == ""? false : true;
              var phone = $('#inputPhone').val() == ""? false : true;
              var eMail = $('#inputEmail').val() == ""? false : true;
              var person = $('#inputPerson').val() == ""? false : true;
              var date = $('#inputDate').val() == ""? false : true;
              var time = $('#inputTime').val() == ""? false : true;
              // 所有欄位都取得 true (都有值)才可作 send()
              if (name && phone && eMail && person && date && time) {
                  send(event);
                  $('#inputName').val("");
            	  $('#inputPhone').val("");
            	  $('#inputEmail').val("");
            	  $('#inputPerson').val("");
            	  $('#inputDate').val("");
            	  $('#inputTime').val("");
              } else {
                  alert('欄位不可為空!');
              }
          });
      }
      $(document).ready(start);
    </script>

    <script
      color="0,0,0"
      opacity="0.3"
      z-index="-2"
      count="99"
      src="https://cdnjs.cloudflare.com/ajax/libs/canvas-nest.js/2.0.4/canvas-nest.js"
      integrity="sha512-P+NGabN/TJDOnCVOFJO+E06TBm4i+M8dTT91lWg/8UpwLrzicEXIypmABPpA47D0x6r+yxFHjYIZKWhc1h7xlQ=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    ></script>
  </body>
</html>